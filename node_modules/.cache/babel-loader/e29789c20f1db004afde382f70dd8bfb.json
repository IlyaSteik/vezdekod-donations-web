{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\Admin\\\\NodeProjects\\\\VezdekodDonations\\\\src\\\\App.js\";\nimport React from 'react';\nimport bridge from '@vkontakte/vk-bridge';\nimport '@vkontakte/vkui/dist/vkui.css';\nimport './css/App.css';\nimport { View } from '@vkontakte/vkui';\nimport Home from \"./panels/Home\";\nimport TypeOfDonation from \"./panels/TypeOfDonation\";\n\nclass App extends React.Component {\n  constructor(props) {\n    super(props);\n\n    this.back = () => {\n      if (this.state.popout !== null) {\n        this.setState({\n          popout: null\n        });\n        window.history.pushState({\n          pop: 'popout'\n        }, 'Title');\n        return;\n      }\n\n      let _this$state = this.state,\n          activePanel = _this$state.activePanel,\n          history = _this$state.history;\n\n      if (history.length === 1) {\n        bridge.send('VKWebAppClose', {\n          status: 'success'\n        });\n      } else if (history.length > 1) {\n        history.pop();\n        activePanel = history[history.length - 1];\n        this.setState({\n          activePanel,\n          history\n        });\n      }\n    };\n\n    this.state = {\n      popout: null,\n      activePanel: 'home',\n      history: ['home']\n    };\n    this.componentDidMount = this.componentDidMount.bind(this);\n    this.back = this.back.bind(this);\n    this.go = this.go.bind(this);\n  }\n\n  go(e) {\n    const panel = e.currentTarget.dataset.to;\n    let history = this.state.history;\n\n    if (history[history.length - 1] !== panel) {\n      history.push(panel);\n      window.history.pushState({\n        activePanel: panel\n      }, 'Title');\n      this.setState({\n        activePanel: panel,\n        history\n      });\n    }\n  }\n\n  async componentDidMount() {\n    bridge.subscribe(async ({\n      detail: {\n        type,\n        data\n      }\n    }) => {\n      if (type !== undefined) console.log(type, data);\n\n      if (type === 'VKWebAppUpdateConfig') {\n        const schemeAttribute = document.createAttribute('scheme');\n        schemeAttribute.value = data.scheme ? data.scheme : 'bright_light';\n        document.body.attributes.setNamedItem(schemeAttribute);\n      }\n    });\n  }\n\n  render() {\n    return React.createElement(View, {\n      activePanel: this.state.activePanel,\n      popout: this.state.popout,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 67\n      },\n      __self: this\n    }, React.createElement(Home, {\n      id: \"home\",\n      app: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 68\n      },\n      __self: this\n    }), React.createElement(TypeOfDonation, {\n      id: \"type-of-donation\",\n      app: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 69\n      },\n      __self: this\n    }));\n  }\n\n}\n\nexport default App;","map":{"version":3,"sources":["C:/Users/Admin/NodeProjects/VezdekodDonations/src/App.js"],"names":["React","bridge","View","Home","TypeOfDonation","App","Component","constructor","props","back","state","popout","setState","window","history","pushState","pop","activePanel","length","send","status","componentDidMount","bind","go","e","panel","currentTarget","dataset","to","push","subscribe","detail","type","data","undefined","console","log","schemeAttribute","document","createAttribute","value","scheme","body","attributes","setNamedItem","render"],"mappings":"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","sourcesContent":["import React from 'react';\r\nimport bridge from '@vkontakte/vk-bridge';\r\nimport '@vkontakte/vkui/dist/vkui.css';\r\nimport './css/App.css'\r\n\r\nimport {\r\n    View\r\n} from '@vkontakte/vkui';\r\nimport Home from \"./panels/Home\";\r\nimport TypeOfDonation from \"./panels/TypeOfDonation\";\r\n\r\nclass App extends React.Component {\r\n\r\n    constructor(props) {\r\n        super(props);\r\n\r\n        this.state = {\r\n            popout: null,\r\n            activePanel: 'home',\r\n            history: ['home']\r\n        };\r\n\r\n        this.componentDidMount = this.componentDidMount.bind(this);\r\n        this.back = this.back.bind(this);\r\n        this.go = this.go.bind(this);\r\n    }\r\n\r\n    back = () => {\r\n        if (this.state.popout !== null) {\r\n            this.setState({popout: null});\r\n            window.history.pushState({pop: 'popout'}, 'Title');\r\n            return;\r\n        }\r\n        let {activePanel, history} = this.state;\r\n        if (history.length === 1) {\r\n            bridge.send('VKWebAppClose', {status: 'success'});\r\n        } else if (history.length > 1) {\r\n            history.pop();\r\n            activePanel = history[history.length - 1];\r\n            this.setState({activePanel, history});\r\n        }\r\n    };\r\n\r\n    go(e) {\r\n        const panel = e.currentTarget.dataset.to;\r\n        let history = this.state.history;\r\n        if (history[history.length - 1] !== panel) {\r\n            history.push(panel);\r\n            window.history.pushState({activePanel: panel}, 'Title');\r\n            this.setState({activePanel: panel, history});\r\n        }\r\n    }\r\n\r\n    async componentDidMount() {\r\n        bridge.subscribe(async ({detail: {type, data}}) => {\r\n            if (type !== undefined) console.log(type, data);\r\n            if (type === 'VKWebAppUpdateConfig') {\r\n                const schemeAttribute = document.createAttribute('scheme');\r\n                schemeAttribute.value = data.scheme ? data.scheme : 'bright_light';\r\n                document.body.attributes.setNamedItem(schemeAttribute);\r\n            }\r\n        });\r\n    }\r\n\r\n    render() {\r\n        return (\r\n            <View activePanel={this.state.activePanel} popout={this.state.popout}>\r\n                <Home id='home' app={this}/>\r\n                <TypeOfDonation id='type-of-donation' app={this}/>\r\n            </View>\r\n        );\r\n    }\r\n}\r\n\r\nexport default App;"]},"metadata":{},"sourceType":"module"}