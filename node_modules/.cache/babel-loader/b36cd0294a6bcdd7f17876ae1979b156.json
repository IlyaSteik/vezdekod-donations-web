{"ast":null,"code":"import _regeneratorRuntime from\"C:\\\\Users\\\\Admin\\\\NodeProjects\\\\VezdekodDonations\\\\node_modules\\\\@babel\\\\runtime/regenerator\";import _asyncToGenerator from\"C:\\\\Users\\\\Admin\\\\NodeProjects\\\\VezdekodDonations\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/asyncToGenerator\";import _classCallCheck from\"C:\\\\Users\\\\Admin\\\\NodeProjects\\\\VezdekodDonations\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/classCallCheck\";import _createClass from\"C:\\\\Users\\\\Admin\\\\NodeProjects\\\\VezdekodDonations\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/createClass\";import _possibleConstructorReturn from\"C:\\\\Users\\\\Admin\\\\NodeProjects\\\\VezdekodDonations\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/possibleConstructorReturn\";import _getPrototypeOf from\"C:\\\\Users\\\\Admin\\\\NodeProjects\\\\VezdekodDonations\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/getPrototypeOf\";import _assertThisInitialized from\"C:\\\\Users\\\\Admin\\\\NodeProjects\\\\VezdekodDonations\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/assertThisInitialized\";import _inherits from\"C:\\\\Users\\\\Admin\\\\NodeProjects\\\\VezdekodDonations\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/inherits\";import React from'react';import bridge from'@vkontakte/vk-bridge';import'@vkontakte/vkui/dist/vkui.css';import'./css/App.css';import'./css/Utils.css';import{View}from'@vkontakte/vkui';import Home from\"./panels/Home\";import TypeOfDonation from\"./panels/TypeOfDonation\";import CreateDonationTarget from\"./panels/CreateDonationTarget\";import CreateDonationTargetMore from\"./panels/CreateDonationTargetMore\";import CreateDonationRegular from\"./panels/CreateDonationRegular\";import Donation from\"./panels/Donation\";import DonationSnippet from\"./panels/DonationSnippet\";var App=/*#__PURE__*/function(_React$Component){_inherits(App,_React$Component);function App(props){var _this;_classCallCheck(this,App);_this=_possibleConstructorReturn(this,_getPrototypeOf(App).call(this,props));_this.back=function(){if(_this.state.popout!==null){_this.setState({popout:null});window.history.pushState({pop:'popout'},'Title');return;}var _this$state=_this.state,activePanel=_this$state.activePanel,history=_this$state.history;if(history.length===1){bridge.send('VKWebAppClose',{status:'success'});}else if(history.length>1){history.pop();activePanel=history[history.length-1];_this.setState({activePanel:activePanel,history:history});}};_this.state={popout:null,activePanel:'home',history:['home'],header:null,donation_title:'',donation_sum:'',donation_current_sum:'',donation_description:''};_this.componentDidMount=_this.componentDidMount.bind(_assertThisInitialized(_this));_this.back=_this.back.bind(_assertThisInitialized(_this));_this.go=_this.go.bind(_assertThisInitialized(_this));return _this;}_createClass(App,[{key:\"go\",value:function go(e){var panel=e.currentTarget.dataset.to;var history=this.state.history;if(history[history.length-1]!==panel){history.push(panel);window.history.pushState({activePanel:panel},'Title');this.setState({activePanel:panel,history:history});}}},{key:\"componentDidMount\",value:function(){var _componentDidMount=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime.mark(function _callee2(){var user;return _regeneratorRuntime.wrap(function _callee2$(_context2){while(1){switch(_context2.prev=_context2.next){case 0:bridge.subscribe(/*#__PURE__*/function(){var _ref2=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime.mark(function _callee(_ref){var _ref$detail,type,data,schemeAttribute;return _regeneratorRuntime.wrap(function _callee$(_context){while(1){switch(_context.prev=_context.next){case 0:_ref$detail=_ref.detail,type=_ref$detail.type,data=_ref$detail.data;if(type!==undefined)console.log(type,data);if(type==='VKWebAppUpdateConfig'){schemeAttribute=document.createAttribute('scheme');schemeAttribute.value=data.scheme?data.scheme:'bright_light';document.body.attributes.setNamedItem(schemeAttribute);}case 3:case\"end\":return _context.stop();}}},_callee);}));return function(_x){return _ref2.apply(this,arguments);};}());_context2.next=3;return bridge.send('VKWebAppGetUserInfo');case 3:user=_context2.sent;this.setState({user:user});bridge.send('VKWebAppInit');case 6:case\"end\":return _context2.stop();}}},_callee2,this);}));function componentDidMount(){return _componentDidMount.apply(this,arguments);}return componentDidMount;}()},{key:\"render\",value:function render(){return React.createElement(View,{activePanel:this.state.activePanel,popout:this.state.popout,history:this.state.history},React.createElement(Home,{id:\"home\",app:this}),React.createElement(TypeOfDonation,{id:\"type-of-donation\",app:this}),React.createElement(CreateDonationTarget,{id:\"create-donation-target\",app:this}),React.createElement(CreateDonationTargetMore,{id:\"create-donation-target-more\",app:this}),React.createElement(CreateDonationRegular,{id:\"create-donation-regular\",app:this}),React.createElement(DonationSnippet,{id:\"donation-snippet\",app:this}),React.createElement(Donation,{id:\"donation\",app:this}));}}]);return App;}(React.Component);export default App;","map":null,"metadata":{},"sourceType":"module"}